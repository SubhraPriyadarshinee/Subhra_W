"use strict";(self.webpackChunkreceiving_web=self.webpackChunkreceiving_web||[]).push([[831],{3886:function(e,n,t){t.d(n,{b:function(){return v}});var a=t(2791),r=t(6871),i=t(7394),o=t(4554),c=t(3400),l=t(890),s=t(8930),d=t(1878),u=t(184),v=function(e){var n=e.title,t=e.icon,v=e.chip,b=void 0===v?null:v,p=e.enableBack,f=void 0!==p&&p,g=e.onClickBack,h=e.actions,m=void 0===h?[]:h,k=(0,r.s0)(),x=(0,a.useCallback)((function(){g?g():k(-1)}),[g,k]);return(0,u.jsxs)(s.c,{children:[(0,u.jsxs)(o.Z,{sx:d.W.wrapper,children:[f&&(0,u.jsx)(c.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:x,children:(0,u.jsx)(i.Z,{fontSize:"large"})}),t,(0,u.jsx)(l.Z,{variant:"h5",component:"div",sx:d.W.title,children:n}),b]}),(0,u.jsx)(o.Z,{children:m})]})}},9923:function(e,n,t){t.d(n,{q:function(){return u}});var a=t(3433),r=t(1413),i=t(2791),o=t(3899),c=t(5675),l=t(8717),s=t(184),d=function(e){var n=e.title,t=e.inputLabel,a=e.onConfirm,d=(0,i.useContext)(o.f),u=d.keyboard,v=d.setKeyboard,b=(0,i.useCallback)((function(e){c.t7.action("Global-Keyboard: confirm button clicked with ".concat(e)),a(e),v((0,r.Z)((0,r.Z)({},u),{},{open:!1}))}),[a,u,v]);return(0,s.jsx)(l.M,{inputLabel:t,title:n,onConfirm:b})},u=function(e){var n=e.title,t=void 0===n?"":n,c=e.inputLabel,l=void 0===c?"":c,u=e.onClickGlobalKeyboardConfirm,v=e.disabled,b=void 0!==v&&v,p=e.open,f=void 0!==p&&p,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],h=(0,i.useContext)(o.f),m=h.keyboard,k=h.setKeyboard,x=(0,i.useCallback)((function(e){u&&u(e)}),[u]);(0,i.useEffect)((function(){k((0,r.Z)((0,r.Z)({},m),{},{disabled:b,open:f,children:(0,s.jsx)(d,{title:t,inputLabel:l,onConfirm:x})}))}),(0,a.Z)(g))}},3831:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(9439),r=t(7408),i=t(2791),o=t(6871),c=t(6151),l=t(8096),s=t(3400),d=t(7391),u=t(1692),v=t(7912),b=t(5675),p=t(3903),f=t(6062),g=t(8533),h=t(3886),m=t(9923),k=t(9738),x={button:{borderRadius:"20px",fontWeight:"bold",m:.5}},L=t(184),C=function(e){return(0,p.i)(v.GH.getContainerInfo(e),{description:"Scan-Lpn: lpn ".concat(e," info")})};function y(){var e=(0,o.s0)(),n=(0,i.useContext)(u.w).setAlerts,t=(0,i.useState)(""),y=(0,a.Z)(t,2),S=y[0],P=y[1],Z=(0,i.useState)(null),j=(0,a.Z)(Z,2),N=j[0],w=j[1],I=(0,i.useState)(""),E=(0,a.Z)(I,2),A=E[0],B=E[1],q=(0,i.useState)(""),D=(0,a.Z)(q,2),U=D[0],K=D[1];(0,r.useQuery)(["scanUPC",A,U],(function(){return e={deliveryNumber:A,upcNumber:U},(0,p.i)(v.GH.getScannedUpcInfo(e),{description:"Scan-Lpn: get delivery document for upc ".concat(e.upcNumber," details")});var e}),{enabled:!(!A||!U),onSuccess:function(t){n({success:"LPN found"});var a=k.P.filterDeliveryDocuments(t.data);a.length?(b.t7.action("Scan-Upc: navigate to item-quantity page"),e("/update-item-quantity",{state:{lpnInfo:N,gdmDeliveryDocuments:a,containerId:S}})):(n({error:"No POs are available"}),b.t7.error("Scan-Upc: no po's availaible for scanned upc",{}))},onError:function(e){var t,a;n({error:(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data.description)&&(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data.description[0])||(null===e||void 0===e?void 0:e.message)||"Scan Lpn error"})},onSettled:function(){B(""),K("")}});var T=(0,i.useCallback)((function(e){w(e.data);var t=e.data.containerType,a=e.data.containerStatus;"Vendor Pack"===t?"PICKED"===a||"AVAILABLE"===a&&0===e.data.destinationLocationId?(B(e.data.deliveryNumber),K(e.data.containerInventoryList[0].itemUPC)):"AVAILABLE"!==e.data.containerStatus?n({error:"The label you scanned is in ".concat(a," status and is not eligible for correction.")}):n({error:"Please scan a valid LPN. Only casepack and induct LPNs supported."}):n({error:"Please scan a valid LPN. Only casepack and induct LPNs supported."})}),[n,B,K]),z=(0,i.useCallback)((function(e){var t;b.t7.error("Scan-Lpn: LPN request error",e);var a,r,i=e.message;(console.error("Error: LPN error",null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),"Request failed with status code 404"===i)?n({error:"The label you scanned was not found and is not eligible for correction."}):n({error:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.errorMessage)||(null===e||void 0===e?void 0:e.message)||"LPN error"})}),[n]),G=(0,r.useMutation)(C,{onSuccess:function(e){return T(e)},onError:function(e){return z(e)}}).mutate,M=(0,i.useCallback)((function(){n({loading:!0}),G(S)}),[n,S,G]);(0,f.T)((function(e){var t,a=e.detail.parsed.get("1D");a?(t=a,b.t7.action("Scan-Lpn: entered/scanned ".concat(t," lpn")),n({loading:!0}),G(t)):n({error:"Unexpected barcode scanned ".concat(e.detail.scanned)})})),(0,m.q)({disabled:!0});var O=(0,i.useCallback)((function(){b.t7.action("Scan-Lpn: Back button clicked"),B(""),K(""),e(-1)}),[e]),V=(0,i.useCallback)((function(e){var n=e.target.value;P(n)}),[P]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.b,{icon:(0,L.jsx)(s.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},disabled:!0,children:(0,L.jsx)(g.S,{})}),title:"Scan LPN or Enter Manually",actions:[(0,L.jsx)(c.Z,{variant:"contained",size:"large",sx:x.button,disabled:!S.trim()||25!==S.length,onClick:M,children:"Submit"},"receive")],enableBack:!0,onClickBack:O}),(0,L.jsxs)(l.Z,{sx:{m:2,mt:0,width:["100%","30ch"]},children:[(0,L.jsx)("p",{children:(0,L.jsx)("b",{children:"LPN"})}),(0,L.jsx)(d.Z,{id:"LPN",type:"string",error:0!==S.trim().length&&25!==S.length,helperText:0!==S.trim().length&&25!==S.length?"Please enter 25 digit valid LPN":"",value:S,onChange:V})]})]})}}}]);
//# sourceMappingURL=831.9b5a14d1.chunk.js.map