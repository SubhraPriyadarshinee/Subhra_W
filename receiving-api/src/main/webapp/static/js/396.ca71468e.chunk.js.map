{"version":3,"file":"static/js/396.ca71468e.chunk.js","mappings":"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","sources":["components/po-selection/po-selection.styles.ts","components/po-selection/po-selection.tsx","components/regulated-item/regulated-item-modal.tsx","utilities/regulated-item-methods.ts","../node_modules/@mui/icons-material/ArrowBack.js","../node_modules/@mui/material/DialogTitle/DialogTitle.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["export const styles = {\n  button: {\n    borderColor: \"primary.dark\",\n    borderRadius: 20,\n    color: \"primary.dark\",\n    fontWeight: \"bold\",\n  },\n  paper: {\n    margin: \"0px 8px\",\n    width: \"100%\",\n  },\n  poText: {\n    flexGrow: 1,\n    fontWeight: \"bold\",\n  },\n  poTextsWrapper: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    mt: 2,\n  },\n};\n","import { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { AxiosError, AxiosResponse } from \"axios\";\nimport { useCallback, useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Paper from \"@mui/material/Paper\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\n\nimport { AlertContext } from \"../../contexts/alert\";\nimport { GlobalsContext } from \"../../contexts/globals\";\nimport { DeliveryDocument } from \"../../types/instruction\";\nimport { MyAppsData } from \"../../types/my-apps\";\nimport {\n  apiHandler,\n  GetReceiveInstructionRequest,\n} from \"../../utilities/api-handler\";\nimport { appLogger } from \"../../utilities/app-logs/app-logger\";\nimport { axiosRequest } from \"../../utilities/axios-request\";\nimport { getTotalOrderQuantity } from \"../../utilities/regulated-item-methods\";\nimport { sessionHandler } from \"../../utilities/session-handler\";\nimport { useScannedEventListener } from \"../../utilities/useEventListener\";\nimport { useHandlePageRefresh } from \"../../utilities/useHandlePageRefresh\";\nimport { Barcode } from \"../common/images/barcode\";\nimport { SubHeader } from \"../common/sub-header/sub-header\";\nimport { useGlobalKeyboard } from \"../global-keyboard/useGlobalKeyboard\";\nimport { RegulatedItemModal } from \"../regulated-item/regulated-item-modal\";\nimport { ScanUpcNavState } from \"../scan-upc/scan-upc\";\nimport { styles } from \"./po-selection.styles\";\n\n/**\n * Display list of POs matched from scanned upc\n *\n * enable global keyboard with custom text\n * on scan -> check if scanned vale exists in po list\n * on global keyboard confirm -> check if scanned vale exists in po list\n *\n * if scanned/entered PO exists in the list -> navigate to /itm-quantity\n * else -> disaplay error alert\n *\n */\nconst postScannedUpcInfo = (\n  receiveInstructionRequest: GetReceiveInstructionRequest\n) =>\n  axiosRequest(apiHandler.getReceiveInstruction(receiveInstructionRequest), {\n    description: `po-selection: get upc ${receiveInstructionRequest.upcNumber} details`,\n  });\n\nexport default function PoSelection() {\n  // get state values from scan-dock-tag page\n  const scanUpcNavState = useHandlePageRefresh<ScanUpcNavState>();\n  const deliveryDocuments = scanUpcNavState?.gdmDeliveryDocuments;\n  const [deliveryDoc, setDeliveryDoc] = useState<DeliveryDocument[] | null>(\n    null\n  );\n  const [openRegulatedModal, setopenRegulatedModal] = useState(false);\n  const navigate = useNavigate();\n  const { setAlerts } = useContext(AlertContext);\n  const { globals } = useContext(GlobalsContext);\n\n  const myAppsData = sessionHandler.getSessionStorage<MyAppsData>(\"myApps\");\n  const enableRegulatedItemChange =\n    myAppsData?.dynamicConfig.enableRegulatedItemChange || false;\n  const disablePoSelectionButton = myAppsData?.dynamicConfig.disablePoSelectionButton || false;\n\n  const getScannedUpcInfoSuccess = (response: AxiosResponse) => {\n    const allowedDeliveryDocs = response.data.deliveryDocuments;\n\n    setDeliveryDoc(allowedDeliveryDocs);\n\n    const instructionCode = response.data.instruction?.instructionCode || null;\n\n    const navState = {\n      ...scanUpcNavState,\n      gdmDeliveryDocuments: allowedDeliveryDocs,\n    };\n\n    // if respnse has multiple delivery documents, user has to slect from the list\n    if (instructionCode === \"WFS Quantity Capture\") {\n      // navigate to enter-quntity route\n      setAlerts({ success: \"UPC found\" });\n      appLogger.action(\"Scan-Upc: navigate to item-quantity page\");\n      navigate(\"/item-quantity\", {\n        state: navState,\n      });\n    } else {\n      const isLithium =\n        allowedDeliveryDocs[0].deliveryDocumentLines[0]\n          ?.isLithiumIonVerificationRequired || false;\n      const isLimited =\n        allowedDeliveryDocs[0].deliveryDocumentLines[0]\n          ?.isLimitedQtyVerificationRequired || false;\n      const isRegulated = isLimited || isLithium;\n      if (isRegulated) {\n        appLogger.action(\"Scan-Upc: checking for regulated Item\");\n        setopenRegulatedModal(true);\n      } else {\n        setAlerts({ error: \"No POs are available\" });\n        appLogger.error(\"Scan-Upc: no po's availaible for scanned upc\", {});\n      }\n    }\n  };\n\n  const getScannedUpcInfoError = (error: AxiosError<any>) => {\n    setAlerts({\n      error:\n        (error?.response?.data.description &&\n          error?.response?.data.description[0]) ||\n        error?.message ||\n        \"UPC error\",\n    });\n  };\n\n  const { mutate: receiveItems } = useMutation(postScannedUpcInfo, {\n    onSuccess: (response) =>\n      getScannedUpcInfoSuccess(response as AxiosResponse),\n    onError: (error) => getScannedUpcInfoError(error as AxiosError<any>),\n  });\n\n  const onApproveRegulatedItemLables = useCallback(() => {\n    appLogger.info(\n      \"po-selection: approved all regulated items are labelled\",\n      {}\n    );\n    setopenRegulatedModal(false);\n    receiveItems({\n      deliveryNumber: `${scanUpcNavState?.deliveryNumber}`,\n      doorNumber: `${scanUpcNavState?.doorNumber}`,\n      upcNumber: `${scanUpcNavState?.scannedUpc}`,\n      deliveryDocuments: deliveryDoc,\n      enteredQty: null,\n      isMultiSKUItem: globals.multiSku,\n      isVendorComplianceValidated: true,\n    });\n  }, [\n    receiveItems,\n    setopenRegulatedModal,\n    deliveryDoc,\n    globals.multiSku,\n    scanUpcNavState,\n  ]);\n\n  const { refetch } = useQuery(\n    [\"multiPo\", deliveryDoc],\n    () => {\n      setAlerts({ loading: true });\n      return postScannedUpcInfo({\n        deliveryNumber: `${scanUpcNavState?.deliveryNumber}`,\n        doorNumber: `${scanUpcNavState?.doorNumber}`,\n        upcNumber: `${scanUpcNavState?.scannedUpc}`,\n        deliveryDocuments: deliveryDoc,\n        enteredQty: null,\n        isMultiSKUItem: globals.multiSku,\n        isVendorComplianceValidated: false,\n      });\n    },\n    {\n      enabled: !!deliveryDoc,\n      onSuccess: getScannedUpcInfoSuccess,\n      onError: getScannedUpcInfoError,\n    }\n  );\n\n  const poSelection = useCallback(\n    (purchaseNumber: string) => {\n      const matchedDeliveryDocs = getDeliveryDocWithPo(\n        purchaseNumber,\n        deliveryDocuments\n      );\n      // resetting alerts\n      setAlerts({\n        loading: false,\n        success: null,\n        error: null,\n      });\n      if (matchedDeliveryDocs.length) {\n        if (enableRegulatedItemChange) {\n          // go to item-quantity page\n          // navigate to enter-quntity route\n          appLogger.action(\"Po-Selection: getting Regulated Item Details\");\n          setDeliveryDoc(matchedDeliveryDocs);\n        } else {\n          // go to item-quantity page\n          // navigate to enter-quntity route\n          appLogger.action(\"Po-Selection: navigate to item-quantity page\");\n          navigate(\"/item-quantity\", {\n            state: {\n              ...scanUpcNavState,\n              gdmDeliveryDocuments: matchedDeliveryDocs,\n            },\n          });\n        }\n      } else {\n        /**\n         * since everything is synchronus in po selection page\n         * when user scans/enters po, if error is same, alerts wont get updated\n         * so resetting the alerts above\n         * and handling the setAlerts events asynchronously\n         */\n        setTimeout(\n          () =>\n            setAlerts({\n              loading: false,\n              success: null,\n              error: \"No Po Found\",\n            }),\n          0\n        );\n        appLogger.error(\n          \"Po-Selection: no po found for scanned/enetered value\",\n          {}\n        );\n        console.error(\"Error: No Po Found\");\n      }\n    },\n    [\n      navigate,\n      scanUpcNavState,\n      deliveryDocuments,\n      setAlerts,\n      setDeliveryDoc,\n      enableRegulatedItemChange,\n    ]\n  );\n\n  const onSelectPo = useCallback(\n    (purchaseNumber: string) => () => {\n      appLogger.action(`Po-Selection: po ${purchaseNumber} selected`);\n      if (\n        deliveryDoc &&\n        deliveryDoc[0].purchaseReferenceNumber === purchaseNumber\n      ) {\n        refetch();\n      } else {\n        poSelection(purchaseNumber);\n      }\n    },\n    [poSelection, refetch, deliveryDoc]\n  );\n\n  const onBarcodeScanned = useCallback(\n    (value: string) => {\n      appLogger.action(`Po-Selection: po ${value} scanned`);\n      poSelection(value);\n    },\n    [poSelection]\n  );\n\n  useScannedEventListener((event) => {\n    const parsed = event.detail.parsed.get(\"1D\");\n    if (parsed) {\n      onBarcodeScanned(parsed);\n    } else {\n      setAlerts({\n        error: `Unexpected barcode scanned ${event.detail.scanned}`,\n      });\n    }\n  });\n\n  useGlobalKeyboard({\n    title: \"Enter PO\",\n    inputLabel: \"PO\",\n    onClickGlobalKeyboardConfirm: (value: string) => poSelection(value),\n  });\n  return (\n    <>\n      <SubHeader title=\"Scan or Select PO\" enableBack />\n      {openRegulatedModal && (\n        <RegulatedItemModal\n          regulatedItemDeliveryDocLine={\n            deliveryDoc ? deliveryDoc[0].deliveryDocumentLines[0] : null\n          }\n          open={openRegulatedModal}\n          onApprove={onApproveRegulatedItemLables}\n          onClose={() => {\n            setopenRegulatedModal(false);\n          }}\n        />\n      )}\n      <Box sx={styles.poTextsWrapper}>\n        {deliveryDocuments?.map((deliveryDoc) => {\n          // combine the total order qty of all the document lines\n          const totalOrderQty = getTotalOrderQuantity(deliveryDoc);\n\n          return (\n            <Paper\n              elevation={1}\n              key={deliveryDoc.purchaseReferenceNumber}\n              sx={styles.paper}\n            >\n              <Toolbar>\n                <IconButton\n                  size=\"large\"\n                  edge=\"start\"\n                  color=\"inherit\"\n                  aria-label=\"menu\"\n                  sx={{ mr: 2 }}\n                  disabled\n                >\n                  <Barcode />\n                </IconButton>\n                <Typography variant=\"h6\" component=\"div\" sx={styles.poText}>\n                  {`PO: ${deliveryDoc.purchaseReferenceNumber} \\u00A0\\u00A0\\u00A0 PO Qty: ${totalOrderQty}`}\n                </Typography>\n                {\n                  !disablePoSelectionButton &&   \n                  <Button\n                  variant=\"outlined\"\n                  onClick={onSelectPo(deliveryDoc.purchaseReferenceNumber)}\n                  size=\"large\"\n                  sx={styles.button}\n                >\n                  Select\n                </Button>\n                }\n              </Toolbar>\n            </Paper>\n          );\n        })}\n      </Box>\n    </>\n  );\n}\n\nconst getDeliveryDocWithPo = (\n  poNumber: string,\n  deliveryDocs: DeliveryDocument[] = []\n): DeliveryDocument[] => {\n  return deliveryDocs.filter((doc) => doc.purchaseReferenceNumber === poNumber);\n};\n","import { memo } from \"react\";\n\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Typography from \"@mui/material/Typography\";\n\nimport { DeliveryDocumentLine } from \"../../types/instruction\";\nimport { MyAppsData } from \"../../types/my-apps\";\nimport { sessionHandler } from \"../../utilities/session-handler\";\nimport {\n  RegulatedImages,\n  regulatedItemInfoFromDeliveryDocumentLine,\n} from \"./regulated-images\";\nimport { styles } from \"./regulated-items.styles\";\n\ninterface RegulatedItemModalProps {\n  open: boolean;\n  onApprove: () => void;\n  onClose: () => void;\n  regulatedItemDeliveryDocLine?: DeliveryDocumentLine | null;\n}\n/**\n * modal to render regulated item function\n */\nexport const RegulatedItemModal = memo(\n  ({\n    open,\n    onApprove,\n    onClose,\n    regulatedItemDeliveryDocLine,\n  }: RegulatedItemModalProps) => {\n    if (!regulatedItemDeliveryDocLine) {\n      return null;\n    }\n\n    const myAppsData = sessionHandler.getSessionStorage<MyAppsData>(\"myApps\");\n    const enableRegulatedItemChange =\n      myAppsData?.dynamicConfig.enableRegulatedItemChange || false;\n\n    const itemDescription1 = enableRegulatedItemChange\n      ? regulatedItemDeliveryDocLine.description\n      : regulatedItemDeliveryDocLine.itemDescription1;\n\n    const itemUPC = enableRegulatedItemChange\n      ? regulatedItemDeliveryDocLine.itemUpc\n      : regulatedItemDeliveryDocLine.itemUPC;\n\n    const { text = \"\", images } = regulatedItemInfoFromDeliveryDocumentLine(\n      regulatedItemDeliveryDocLine\n    );\n\n    return (\n      <Dialog\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"regulated-item-modal-title\"\n        aria-describedby=\"regulated-item-modal-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" sx={styles.dialogText}>\n          <Typography variant=\"h6\" component=\"div\" sx={{ fontWeight: \"bold\" }}>\n            {text}\n          </Typography>\n          <Typography variant=\"caption\" component=\"div\">\n            Please confirm all cases include the labels below.\n          </Typography>\n        </DialogTitle>\n        <DialogContent sx={styles.dialogText}>\n          <RegulatedImages imageUrls={images} />\n          <Box id=\"alert-dialog-description\" sx={{ color: \"white\" }}>\n            <Typography variant=\"h6\" sx={styles.itemDescription}>\n              {itemDescription1}\n            </Typography>\n            <Typography gutterBottom variant=\"body2\">\n              {`UPC: ${itemUPC}`}\n            </Typography>\n          </Box>\n        </DialogContent>\n        <Box sx={styles.info}>\n          Please apply this label or confirm the label is applied.\n        </Box>\n        <DialogActions>\n          <Button variant=\"contained\" sx={styles.button} onClick={onApprove}>\n            Continue\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n);\nRegulatedItemModal.displayName = \"RegulatedItemModal\";\n","import { DeliveryDocument } from \"../types/instruction\";\nimport { MyAppsData } from \"../types/my-apps\";\nimport { sessionHandler } from \"./session-handler\";\n\nconst myAppsData = sessionHandler.getSessionStorage<MyAppsData>(\"myApps\");\nconst enableRegulatedItemChange =\n  myAppsData?.dynamicConfig.enableRegulatedItemChange || false;\n\nexport const getUpc = (item: DeliveryDocument[]): string => {\n  const upcViaReceiving = item[0]?.deliveryDocumentLines[0].itemUpc || \"\";\n  const upcViaGdm = item[0]?.deliveryDocumentLines[0].itemUPC || \"\";\n  return enableRegulatedItemChange ? upcViaReceiving : upcViaGdm;\n};\n\nexport const getItemDescription = (item: DeliveryDocument[]): string => {\n  const itemDescViaReceiving =\n    item[0]?.deliveryDocumentLines[0].description || \"\";\n  const itemDescViaGdm =\n    item[0]?.deliveryDocumentLines[0].itemDescription1 || \"\";\n  return enableRegulatedItemChange ? itemDescViaReceiving : itemDescViaGdm;\n};\n\nexport const getTotalOrderQuantity = (item: DeliveryDocument): number => {\n  const totalOrderQuantityViaGdm = item.deliveryDocumentLines.reduce(\n    (p, c) => p + c.expectedQty,\n    0\n  );\n  const totalOrderQuantityViaReceiving = item.deliveryDocumentLines.reduce(\n    (p, c) => p + (c.totalOrderQty || 0),\n    0\n  );\n\n  return enableRegulatedItemChange\n    ? totalOrderQuantityViaReceiving\n    : totalOrderQuantityViaGdm;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n}), 'ArrowBack');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"id\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport Typography from '../Typography';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogTitleUtilityClass } from './dialogTitleClasses';\nimport DialogContext from '../Dialog/DialogContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getDialogTitleUtilityClass, classes);\n};\n\nconst DialogTitleRoot = styled(Typography, {\n  name: 'MuiDialogTitle',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  padding: '16px 24px',\n  flex: '0 0 auto'\n});\nconst DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogTitle'\n  });\n\n  const {\n    className,\n    id: idProp\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  const {\n    titleId: id = idProp\n  } = React.useContext(DialogContext);\n  return /*#__PURE__*/_jsx(DialogTitleRoot, _extends({\n    component: \"h2\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    variant: \"h6\",\n    id: id\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogTitle;","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["styles","button","borderColor","borderRadius","color","fontWeight","paper","margin","width","poText","flexGrow","poTextsWrapper","display","flexWrap","mt","postScannedUpcInfo","receiveInstructionRequest","axiosRequest","apiHandler","description","upcNumber","PoSelection","scanUpcNavState","useHandlePageRefresh","deliveryDocuments","gdmDeliveryDocuments","useState","deliveryDoc","setDeliveryDoc","openRegulatedModal","setopenRegulatedModal","navigate","useNavigate","setAlerts","useContext","AlertContext","globals","GlobalsContext","myAppsData","sessionHandler","enableRegulatedItemChange","dynamicConfig","disablePoSelectionButton","getScannedUpcInfoSuccess","response","allowedDeliveryDocs","data","instructionCode","instruction","navState","success","appLogger","state","isLithium","deliveryDocumentLines","isLithiumIonVerificationRequired","isLimitedQtyVerificationRequired","error","getScannedUpcInfoError","message","receiveItems","useMutation","onSuccess","onError","mutate","onApproveRegulatedItemLables","useCallback","deliveryNumber","doorNumber","scannedUpc","enteredQty","isMultiSKUItem","multiSku","isVendorComplianceValidated","refetch","useQuery","loading","enabled","poSelection","purchaseNumber","matchedDeliveryDocs","getDeliveryDocWithPo","length","setTimeout","console","onSelectPo","purchaseReferenceNumber","onBarcodeScanned","value","useScannedEventListener","event","parsed","detail","get","scanned","useGlobalKeyboard","title","inputLabel","onClickGlobalKeyboardConfirm","enableBack","regulatedItemDeliveryDocLine","open","onApprove","onClose","Box","sx","map","totalOrderQty","getTotalOrderQuantity","Paper","elevation","Toolbar","IconButton","size","edge","mr","disabled","Typography","variant","component","Button","onClick","poNumber","deliveryDocs","filter","doc","RegulatedItemModal","memo","itemDescription1","itemUPC","itemUpc","regulatedItemInfoFromDeliveryDocumentLine","text","images","id","imageUrls","gutterBottom","displayName","getUpc","item","upcViaReceiving","upcViaGdm","getItemDescription","itemDescViaReceiving","itemDescViaGdm","totalOrderQuantityViaGdm","reduce","p","c","expectedQty","totalOrderQuantityViaReceiving","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","_excluded","DialogTitleRoot","styled","name","slot","overridesResolver","props","root","padding","flex","DialogTitle","React","inProps","ref","useThemeProps","className","idProp","other","_objectWithoutPropertiesLoose","ownerState","classes","composeClasses","getDialogTitleUtilityClass","useUtilityClasses","DialogContext","titleId","_jsx","_extends","clsx","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","i","F","s","n","done","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2"],"sourceRoot":""}