"use strict";(self.webpackChunkreceiving_web=self.webpackChunkreceiving_web||[]).push([[705],{3516:function(e,t,n){n.d(t,{$:function(){return c}});var i=n(4554),o=n(1918),r=n(703),a={bottomSpace:{borderTop:"1px solid lightgray",m:2,pb:10},chip:{borderRadius:0,left:16,position:"absolute",top:16},wrapper:{alignItems:"center",display:"flex",height:50,justifyContent:"center",position:"relative"},center:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",margin:"16px"}},l=n(184),c=function(e){var t=e.id,n=e.children;return(0,l.jsxs)(r.Z,{elevation:2,sx:{m:2},children:[(0,l.jsx)(i.Z,{sx:a.wrapper,children:t&&(0,l.jsx)(o.Z,{label:t,color:"primary",sx:a.chip})}),(0,l.jsx)(i.Z,{sx:a.center,children:n}),(0,l.jsx)(i.Z,{sx:a.bottomSpace})]})}},3553:function(e,t,n){n.d(t,{Z:function(){return g}});n(2791);var i=n(5289),o=n(4554),r=n(890),a=n(3400),l=n(4721),c=n(9157),s=n(1691),d=n(7123),u=n(6151),v=n(9823),p=n(785),h=n(184);function g(e){var t=e.open,n=e.header,g=e.content,m=e.handleClose;return(0,h.jsxs)(i.Z,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:p.W.paper},onClose:m,children:[(0,h.jsxs)(o.Z,{sx:p.W.titleContainer,children:[(0,h.jsx)(r.Z,{gutterBottom:!0,variant:"h4",component:"div",children:(0,h.jsx)("b",{children:n})}),(0,h.jsx)(a.Z,{"aria-label":"close",onClick:m,children:(0,h.jsx)(v.Z,{fontSize:"large"})})]}),(0,h.jsx)(l.Z,{}),(0,h.jsx)(c.Z,{children:(0,h.jsx)(s.Z,{id:"alert-dialog-description",sx:{fontSize:"20px",color:"black"},children:g.split("\n").map((function(e){return(0,h.jsx)("div",{style:{marginBottom:"15px"},children:e})}))})}),(0,h.jsx)(l.Z,{}),(0,h.jsx)(d.Z,{sx:{m:2},children:(0,h.jsx)(u.Z,{variant:"contained",size:"large",sx:p.W.button,onClick:m,children:"Close"},"receive")})]})}},626:function(e,t,n){n.d(t,{T:function(){return g}});var i=n(2791),o=n(4554),r=n(6151),a=n(5289),l=n(7123),c=n(9157),s=n(5661),d=n(890),u=n(7895),v=n(7774),p=n(1632),h=n(184),g=(0,i.memo)((function(e){var t=e.open,n=e.onApprove,i=e.onClose,g=e.regulatedItemDeliveryDocLine;if(!g)return null;var m=u.d.getSessionStorage("myApps"),f=(null===m||void 0===m?void 0:m.dynamicConfig.enableRegulatedItemChange)||!1,x=f?g.description:g.itemDescription1,b=f?g.itemUpc:g.itemUPC,y=(0,v.Cn)(g),Z=y.text,S=void 0===Z?"":Z,C=y.images;return(0,h.jsxs)(a.Z,{open:t,onClose:i,"aria-labelledby":"regulated-item-modal-title","aria-describedby":"regulated-item-modal-description",children:[(0,h.jsxs)(s.Z,{id:"alert-dialog-title",sx:p.W.dialogText,children:[(0,h.jsx)(d.Z,{variant:"h6",component:"div",sx:{fontWeight:"bold"},children:S}),(0,h.jsx)(d.Z,{variant:"caption",component:"div",children:"Please confirm all cases include the labels below."})]}),(0,h.jsxs)(c.Z,{sx:p.W.dialogText,children:[(0,h.jsx)(v.jS,{imageUrls:C}),(0,h.jsxs)(o.Z,{id:"alert-dialog-description",sx:{color:"white"},children:[(0,h.jsx)(d.Z,{variant:"h6",sx:p.W.itemDescription,children:x}),(0,h.jsx)(d.Z,{gutterBottom:!0,variant:"body2",children:"UPC: ".concat(b)})]})]}),(0,h.jsx)(o.Z,{sx:p.W.info,children:"Please apply this label or confirm the label is applied."}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(r.Z,{variant:"contained",sx:p.W.button,onClick:n,children:"Continue"})})]})}));g.displayName="RegulatedItemModal"},7101:function(e,t,n){n.d(t,{W:function(){return i}});var i={button:{borderColor:"primary.dark",borderRadius:20,color:"primary.dark",fontWeight:"bold"},h4:{width:"100%",fontweight:"bold",color:"#0071DC",flexGrow:1,textAlign:"center",margin:"32px"},h6:{width:"100%",color:"primary.dark",flexGrow:1,textAlign:"center",margin:"32px"},chip:{borderRadius:0,marginLeft:2,top:16},finishScanningButton:{borderColor:"primary.dark",borderRadius:20,color:"primary.dark",fontWeight:"bold",margin:"32px"}}},6550:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var i=n(5861),o=n(1413),r=n(9439),a=n(7757),l=n.n(a),c=n(7408),s=n(2791),d=n(6871),u=n(4554),v=n(6151),p=n(1918),h=n(3400),g=n(890),m=n(1692),f=n(6214),x=n(7912),b=n(5675),y=n(3903),Z=n(5465),S=n(5178),C=n(9654),j=n(7895),k=n(6062),D=n(8480),U=n(3516),I=n(5289),N=n(7123),T=n(9157),w=n(1691),L=n(4721),P=n(785),M=n(184),R=(0,s.memo)((function(e){var t=e.open,n=e.getHeader,i=e.getContent,o=e.handleConfirm;return(0,M.jsx)("div",{children:(0,M.jsxs)(I.Z,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:P.W.paper},children:[(0,M.jsx)(u.Z,{sx:P.W.titleContainer,children:(0,M.jsx)(g.Z,{gutterBottom:!0,variant:"h4",component:"div",children:(0,M.jsx)("b",{children:n})})}),(0,M.jsx)(T.Z,{sx:{mb:20},children:(0,M.jsx)(w.Z,{id:"alert-dialog-description",sx:{fontSize:"25px",color:"black"},children:i})}),(0,M.jsx)(L.Z,{}),(0,M.jsx)(N.Z,{sx:{m:2},children:(0,M.jsx)(v.Z,{variant:"contained",size:"large",sx:P.W.button,onClick:o,children:"Confirm"},"receive")})]})})})),Q=n(8533),V=function(){return(0,M.jsxs)("svg",{width:200,height:200,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("rect",{width:200,height:200,rx:100,fill:"#00539D"}),(0,M.jsx)("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:200,height:200,children:(0,M.jsx)("rect",{width:200,height:200,rx:100,fill:"#fff"})}),(0,M.jsxs)("g",{mask:"url(#a)",children:[(0,M.jsx)("rect",{x:42,y:119,width:118,height:51,rx:4,fill:"#fff"}),(0,M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51 162h8v-35h-8v35ZM113 162h8v-35h-8v35ZM63 162h13v-35H63v35ZM88 162h13v-35H88v35ZM137 162h13v-35h-13v35ZM80.54 162h2.92v-35h-2.92v35ZM105.54 162h2.92v-35h-2.92v35ZM126.08 162h5.84v-35h-5.84v35Z",fill:"#211E1F"}),(0,M.jsx)("rect",{x:54,y:21,width:91,height:91,rx:4,fill:"#fff"}),(0,M.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.06 38.26a2.166 2.166 0 0 0-2.17-2.162H72.54a2.166 2.166 0 0 0-2.169 2.162v17.298c0 1.194.972 2.163 2.169 2.163h15.182v4.324h4.338v4.325h-8.675v4.324h-8.676v4.325h-2.169a2.166 2.166 0 0 0-2.169 2.162V94.48c0 1.193.972 2.162 2.169 2.162H89.89a2.166 2.166 0 0 0 2.17-2.162v-6.487h4.337v4.324h4.338v4.325h8.676v-4.325h-8.676V83.668h-8.676v-6.487a2.166 2.166 0 0 0-2.169-2.162h-6.506v-4.325h8.675v4.325h4.338v4.325h8.676V87.993h4.338v-4.325h4.337V92.317h4.338v-4.324h4.338v-4.325h-8.676V75.02h4.338V66.37h8.676v4.324h4.338V66.37h-4.338v-4.325h-13.014v4.325h-4.337V57.72h-4.338v4.324h-8.676v-4.324H89.89a2.166 2.166 0 0 0 2.17-2.163v-6.487h4.337v-4.324h8.676v4.324h-4.338v4.325h4.338v-4.325h4.338v6.487c0 1.194.971 2.163 2.168 2.163h17.352a2.167 2.167 0 0 0 2.169-2.163V38.26a2.167 2.167 0 0 0-2.169-2.162h-17.352a2.166 2.166 0 0 0-2.168 2.162v6.487h-4.338v-4.325h-4.338v-4.324h-4.338V44.747h-4.338V38.26Zm17.351 28.11V75.019h-8.676V66.37h8.676ZM74.708 53.396H87.72V40.422H74.708v12.974Zm52.054 0h-13.014V40.422h13.014v12.974ZM74.708 92.317H87.72V79.344H74.708v12.973Zm47.716-43.246h-4.338v-4.324h4.338v4.324ZM79.046 87.993h4.338v-4.325h-4.338v4.325ZM74.708 66.37v-4.325H70.37v4.325h4.338Zm8.676-17.299h-4.338v-4.324h4.338v4.324Zm39.04 30.273h4.338v-4.325h-4.338v4.325Zm0 17.298h4.338v-4.325h-4.338v4.325Z",fill:"#212121"})]})]})},z=n(3886),A=n(9923),W=n(626),G=n(9738),H=n(7101),E=n(3553),q=function(e){return(0,y.i)(x.GH.getReceiveInstruction(e),{description:"Scan-Upc: get upc ".concat(e.upcNumber," details")})};function O(){var e=(0,D.j)(),t=(0,d.s0)(),n=(0,s.useState)(""),a=(0,r.Z)(n,2),I=a[0],N=a[1],T=(0,s.useState)("0"),w=(0,r.Z)(T,2),L=(w[0],w[1]),P=(0,s.useState)(""),O=(0,r.Z)(P,2),F=(O[0],O[1]),K=(0,s.useState)(!1),B=(0,r.Z)(K,2),_=B[0],J=B[1],$=(0,s.useState)(new Map),X=(0,r.Z)($,2),Y=X[0],ee=X[1],te=(0,s.useState)(null),ne=(0,r.Z)(te,2),ie=ne[0],oe=ne[1],re=(0,s.useState)(!1),ae=(0,r.Z)(re,2),le=ae[0],ce=ae[1],se=(0,s.useState)(!1),de=(0,r.Z)(se,2),ue=de[0],ve=de[1],pe=(0,s.useContext)(m.w).setAlerts,he=(0,s.useContext)(f.z),ge=he.globals,me=he.setGlobals,fe=(0,s.useState)((0,M.jsx)(M.Fragment,{})),xe=(0,r.Z)(fe,2),be=xe[0],ye=xe[1],Ze=(0,s.useState)((0,M.jsx)(M.Fragment,{})),Se=(0,r.Z)(Ze,2),Ce=Se[0],je=Se[1],ke=(0,s.useState)(!1),De=(0,r.Z)(ke,2),Ue=De[0],Ie=De[1],Ne=j.d.getSessionStorage("myApps"),Te=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableDockTag)||!1,we=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableRegulatedItemChange)||!1,Le=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableQtyCorrection)||!1,Pe=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableSkipQtyPage)||!1,Me=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableIsAuditRequired)||!1,Re=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableNewTCLRoute)||!1,Qe=Re&&(null===e||void 0===e?void 0:e.isTCLRoute),Ve=(null===Ne||void 0===Ne?void 0:Ne.dynamicConfig.enableMultiSku2D)||!1;(0,s.useEffect)((function(){me((0,o.Z)((0,o.Z)({},ge),{},{multiSku:!1}));var t=(null===e||void 0===e?void 0:e.dockScanUpc)||void 0,n=(null===e||void 0===e?void 0:e.dockScanUpc)||void 0,i=null===e||void 0===e?void 0:e.parsed2DMap,r=null===i||void 0===i?void 0:i.get("01");Qe&&i&&r&&(ee(i),et(r)),!Qe||void 0===n||i&&i.size||L(n),!Qe||void 0===t||i&&i.size||(J(!0),et("".concat(null===e||void 0===e?void 0:e.dockScanUpc))),void 0!==(null===e||void 0===e?void 0:e.deliveryDocuments)&&ze(null===e||void 0===e?void 0:e.deliveryDocuments)}),[]);var ze=function(n){try{var i,r=n.data.deliveryDocuments||[];oe(r);var a=(null===(i=n.data.instruction)||void 0===i?void 0:i.instructionCode)||null;Re&&e&&r&&r.length&&(e.deliveryNumber=r[0].deliveryNumber);var l=(0,o.Z)((0,o.Z)({},e),{},{gdmDeliveryDocuments:r,scannedUpc:I}),c=Ae(r),s=We(r);if("MANUAL_PO_SELECTION"===a)pe({success:"UPC found"}),b.t7.action("Scan-Upc: navigate to po-selection page"),t("/po-selection",Me?{state:(0,o.Z)((0,o.Z)({},l),{},{itemQuantity:!1===c?Y.get("30"):null,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})}:{state:(0,o.Z)((0,o.Z)({},l),{},{itemQuantity:s&&"HIGH"===s?Y.get("30"):null,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})});else if("MULTI-SKU"===a)pe({success:"Multi Sku found"}),me((0,o.Z)((0,o.Z)({},ge),{},{multiSku:!0})),t("/scan-upc-multisku",{state:(0,o.Z)((0,o.Z)({},l),{},{itemQuantity:!1===c?Y.get("30"):null,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})});else if("WFS Quantity Capture"===a){var d=s&&"HIGH"===s?Y.get("30"):null;Me&&(d=!1===c?Y.get("30"):null),Pe&&!1===c&&null!=r?(b.t7.action("Scan-Upc: trusted seller skip item-quantity page"),Je(r)):(pe({success:"Scan successful"}),b.t7.action("Scan-Upc: navigate to item-quantity page"),t("/item-quantity",{state:(0,o.Z)((0,o.Z)({},l),{},{itemQuantity:d,isTclFreeFlow:_,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})}))}else{var u,v,p=(null===(u=r[0].deliveryDocumentLines[0])||void 0===u?void 0:u.isLithiumIonVerificationRequired)||!1;((null===(v=r[0].deliveryDocumentLines[0])||void 0===v?void 0:v.isLimitedQtyVerificationRequired)||!1||p)&&!a?(pe({loading:!1}),b.t7.action("Scan-Upc: checking for regulated Item"),ce(!0)):(pe({error:"No POs are available"}),b.t7.error("Scan-Upc: no po's availaible for scanned upc",{}))}}catch(h){b.t7.error("Scan-Upc: Unable to process success response for receving",{response:n})}},Ae=function(e){return!(e&&e.length>0&&e[0].additionalInfo&&void 0!==e[0].additionalInfo.isAuditRequired&&null!==e[0].additionalInfo.isAuditRequired)||e[0].additionalInfo.isAuditRequired},We=function(e){return e.length>0&&e[0].additionalInfo&&e[0].additionalInfo.receivingTier?e[0].additionalInfo.receivingTier:null},Ge=function(e){var n,i,o,r;pe({error:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.errorMessage)||(null===e||void 0===e?void 0:e.message)||"UPC error"});var a=null===e||void 0===e||null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.errorCode;F(a),Re&&"TCL.201.NOT_FOUND"===a||t(-1)},He=(0,c.useMutation)(q,{onSuccess:function(e){return ze(e)},onError:function(e){return Ge(e)}}).mutate,Ee=(0,s.useCallback)((function(){b.t7.info("Scan-Upc: approved all regulated items are labelled",{}),ce(!1);var t=Y.get("gs1")&&Y.get("gs1");ie&&He({deliveryNumber:"".concat(null===e||void 0===e?void 0:e.deliveryNumber),doorNumber:"".concat(null===e||void 0===e?void 0:e.doorNumber),upcNumber:Y.size>0?Y.get("01")||"":I,previouslyScannedDataList:t&&[t]||null,deliveryDocuments:ie,enteredQty:null,isMultiSKUItem:ge.multiSku,isVendorComplianceValidated:!0,scannedDataList:Y.size>0?Ye(Y):null,receivingType:Y.size>0?"GS1":"UPC"})}),[He,ce,ie,ge.multiSku,e,I,Y]),qe=(0,s.useCallback)((function(){b.t7.info("Update-Item-Quantity: Approved for editing trusted seller quantity",{}),b.t7.action("Item-Quantity: navigate to scan-dock-tag page"),pe({loading:!1}),ve(!1),t("/scan-dock-tag-or-tcl",{state:{cartId:null===e||void 0===e?void 0:e.cartId,doorNumber:"".concat(null===e||void 0===e?void 0:e.doorNumber)}})}),[pe,ve,e]),Oe=(0,s.useCallback)((function(e){b.t7.info("Item-Quantity: printjob success",e),ve(!0)}),[ve]),Fe=(0,s.useCallback)((function(e){b.t7.error("Item-Quantity: printjob error",e),pe({error:"There was an error printing. Check the printer status or re-connect to continue."})}),[pe]),Ke=(0,C.G)({onPrintRequestSuccess:Oe,onPrintRequestError:Fe}),Be=(0,r.Z)(Ke,1)[0],_e=(0,c.useMutation)((function(e){return(0,y.i)(x.GH.getReceiveInstruction(e),{description:"Item-Quantity: receive items for upc ".concat(e.upcNumber," delivery ").concat(e.deliveryNumber)})}),{onSuccess:function(n){return function(n){var i;me((0,o.Z)((0,o.Z)({},ge),{},{previouslyScannedDataList:[]}));var r=(null===(i=n.data.instruction)||void 0===i?void 0:i.instructionCode)||null;if("WFSOverageReceiving"==r)Ie(!0),pe({loading:!1});else if("MULTI-SKU"==r){pe({success:"Multi Sku found"});var a=(0,o.Z)((0,o.Z)({},e),{},{gdmDeliveryDocuments:n.data.deliveryDocuments,scannedUpc:I}),l=Ae(n.data.deliveryDocuments);me((0,o.Z)((0,o.Z)({},ge),{},{multiSku:!0})),t("/scan-upc-multisku",{state:(0,o.Z)((0,o.Z)({},a),{},{itemQuantity:!1===l?Y.get("30"):null,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})})}else{var c,s,d=null===(c=n.data.instruction)||void 0===c||null===(s=c.container)||void 0===s?void 0:s.inventoryStatus,u=n.data.printJob;switch(d){case"PICKED":u?(b.t7.info("Item-Quantity: printjob request",u),Be(u)):(b.t7.error("Item-Quantity: printjob not found",{}),console.error("No print job found"),pe({error:"No print job found"}));break;case"AVAILABLE":var v,p=(null===(v=n.data.instruction)||void 0===v?void 0:v.container.trackingId)||"";b.t7.action("Item-Quantity: navigate to breakpack page"),Le||me((0,o.Z)((0,o.Z)({},ge),{},{disableQuantityCorrection:!1})),t("/breakpack",{state:{upc:I,splitQty:0,trackingId:p,printJob:u}});break;default:b.t7.error("Item-Quantity: inventoryStatus ".concat(d," not supported"),{}),console.error("Other types are not supported yet"),pe({error:"Other inventoryStatus ".concat(d," not supported.")})}ye((0,M.jsx)(M.Fragment,{children:"Barcode scan success"})),je((0,M.jsx)(M.Fragment,{children:"Receiving successful, label printed"}))}}(n)},onError:function(e){return function(e){var t,n;pe({error:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errorMessage)||(null===e||void 0===e?void 0:e.message)||"Error while receiving"})}(e)}}).mutate,Je=(0,s.useCallback)(function(){var t=(0,i.Z)(l().mark((function t(n){var i,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Y.get("gs1")&&Y.get("gs1"),o={deliveryNumber:"".concat(null===e||void 0===e?void 0:e.deliveryNumber),doorNumber:"".concat(null===e||void 0===e?void 0:e.doorNumber),upcNumber:I,deliveryDocuments:n,enteredQty:null!==Y&&void 0!==Y&&Y.get("30")?Number(Y.get("30")):null,isMultiSKUItem:ge.multiSku,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc",previouslyScannedDataList:i&&[i]||null},t.next=4,S.T.isPrinterSelected();case 4:t.sent?(pe({loading:!0}),_e(we?Object.assign(o,{isVendorComplianceValidated:!0}):o)):(pe({error:"No printer selected, please select a printer to receive"}),b.t7.error("Item-Quantity: No printer selected, please select a printer to receive",{}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[_e,ce,ie,e,I,Y]),$e=(0,c.useQuery)(["scanUPC",I,Y],(function(){var t=Y.get("gs1")&&Y.get("gs1");return pe({loading:!0}),we?q((0,o.Z)({deliveryNumber:Qe?"0":"".concat(null===e||void 0===e?void 0:e.deliveryNumber),doorNumber:"".concat(null===e||void 0===e?void 0:e.doorNumber),upcNumber:Qe?null===e||void 0===e?void 0:e.dockScanUpc:Y.size>0?Y.get("01")||"":I,previouslyScannedDataList:t&&[t]||null,deliveryDocuments:null,enteredQty:null,isMultiSKUItem:ge.multiSku,isVendorComplianceValidated:!1,scannedDataList:Y.size>0?Ye(Y):null,receivingType:Y.size>0?"GS1":"UPC"},Re&&Qe&&{additionalParams:{po:null===e||void 0===e?void 0:e.poNumber}})):function(e,t){return(0,y.i)(x.GH.getScannedUpcInfo({deliveryNumber:e,upcNumber:t}),{description:"Scan-Upc: get upc ".concat(t," details")})}("".concat(null===e||void 0===e?void 0:e.deliveryNumber),I)}),{enabled:!!I,onSuccess:we?ze:function(n){pe({success:"UPC found"});var i=G.P.filterDeliveryDocuments(n.data),r=(0,o.Z)((0,o.Z)({},e),{},{gdmDeliveryDocuments:i,scannedUpc:I});i.length>1?(b.t7.action("Scan-Upc: navigate to po-selection page"),t("/po-selection",{state:(0,o.Z)((0,o.Z)({},r),{},{itemQuantity:Y.get("30"),scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})})):1===i.length?(b.t7.action("Scan-Upc: navigate to item-quantity page"),t("/item-quantity",{state:(0,o.Z)((0,o.Z)({},r),{},{itemQuantity:Y.get("30"),isTclFreeFlow:_,scannedDataList:Ye(Y),receivingType:Y.size>0?"GS1":"upc"})})):(pe({error:"No POs are available"}),b.t7.error("Scan-Upc: no po's availaible for scanned upc",{}))},onError:we?Ge:function(e){var t,n;pe({error:(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data.description)&&(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data.description[0])||(null===e||void 0===e?void 0:e.message)||"UPC error"})}}),Xe=$e.refetch,Ye=function(e){var t=[];return e.forEach((function(e,n){var i,o;"gs1"!==n&&t.push({key:null===(i=Z.A.get(n))||void 0===i?void 0:i.purpose,applicationIdentifier:null===(o=Z.A.get(n))||void 0===o?void 0:o.ai,value:e})})),t},et=function(e){b.t7.action("Scan-Upc: scanned/enetered ".concat(e," upc")),I===e?Xe():N(e)};(0,k.T)((function(e){var t=e.detail.parsed.get("1D"),n=e.detail.parsed.get("2D");n?n.get("400")&&n.get("01")&&n.get("30")||Ve&&n.get("400")&&n.get("00")&&!n.get("01")&&!n.get("30")?(ee(n),et(n.get("400")),n.get("gs1")&&me((0,o.Z)((0,o.Z)({},ge),{},{previouslyScannedDataList:[n.get("gs1")]}))):pe({error:"System is unable to process QR code at the moment. Please scan item UPC to receive."}):t&&!n?(et(t),ee(new Map)):pe({error:"Unexpected barcode scanned ".concat(e.detail.scanned)})})),(0,A.q)({title:Qe?"Enter PO":"Enter UPC",inputLabel:Qe?"PO":"UPC",onClickGlobalKeyboardConfirm:function(e){return et(e)}},[I]);var tt=(0,s.useCallback)((function(){b.t7.action("Scan-Upc: exit Dock Tag button clicked"),t("/scan-dock-tag-or-tcl",{state:{cartId:null===e||void 0===e?void 0:e.cartId,doorNumber:null===e||void 0===e?void 0:e.doorNumber}})}),[t,e]),nt=(0,s.useCallback)((function(){b.t7.action("Scan-Upc: exit Dock Tag button clicked"),me((0,o.Z)((0,o.Z)({},ge),{},{multiSku:!0})),t("/scan-upc-multisku",{state:e})}),[me,ge,t,e]),it=Te?"Dock Tag ".concat(null===e||void 0===e?void 0:e.scannedTclorDockTagValue):"TCL ".concat(null===e||void 0===e?void 0:e.scannedTclorDockTagValue,": Scan UPC"),ot=Te?"Exit Dock Tag":"Exit TCL";return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(z.b,{icon:(0,M.jsx)(h.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},disabled:!0,children:(0,M.jsx)(Q.S,{})}),title:it,chip:(0,M.jsx)(p.Z,{label:"SINGLE SKU",color:"default",sx:H.W.chip}),actions:[(0,M.jsx)(v.Z,{variant:"outlined",onClick:tt,size:"large",sx:H.W.button,children:ot},"exit dock tag")]}),le&&(0,M.jsx)(W.T,{regulatedItemDeliveryDocLine:ie?ie[0].deliveryDocumentLines[0]:null,open:le,onApprove:Ee,onClose:function(){ce(!1),Qe&&t(-1)}}),ue&&(0,M.jsx)(R,{getHeader:be,getContent:Ce,handleConfirm:qe,open:ue}),Ue&&(0,M.jsx)(E.Z,{handleClose:function(){b.t7.action("item-quantity: navigate to scan-cart page"),t("/")},header:"Overage",content:"This receipt exceeds the allowable overage. Please contact your manager to open a ticket",open:Ue}),(0,M.jsx)(u.Z,{}),(0,M.jsxs)(U.$,{id:"Cart #: ".concat(null===e||void 0===e?void 0:e.cartId),children:[(0,M.jsx)(g.Z,{variant:"h4",component:"div",sx:H.W.h4,children:Qe?"Scan PO":"Scan 2D barcode or item UPC"}),(0,M.jsx)(V,{}),(0,M.jsx)(g.Z,{variant:"h6",component:"div",sx:H.W.h6,children:"Are there multiple SKU numbers for this tag?"}),(0,M.jsx)(v.Z,{variant:"outlined",onClick:nt,size:"large",sx:H.W.button,children:"Multi-SKU"},"exit dock tag")]})]})}},7394:function(e,t,n){var i=n(5318);t.Z=void 0;var o=i(n(5649)),r=n(184),a=(0,o.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=a},5661:function(e,t,n){var i=n(7462),o=n(3366),r=n(2791),a=n(8182),l=n(2039),c=n(890),s=n(7630),d=n(1046),u=n(7673),v=n(5090),p=n(184),h=["className","id"],g=(0,s.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),m=r.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiDialogTitle"}),c=n.className,s=n.id,m=(0,o.Z)(n,h),f=n,x=function(e){var t=e.classes;return(0,l.Z)({root:["root"]},u.a,t)}(f),b=r.useContext(v.Z).titleId,y=void 0===b?s:b;return(0,p.jsx)(g,(0,i.Z)({component:"h2",className:(0,a.Z)(x.root,c),ownerState:f,ref:t,variant:"h6",id:y},m))}));t.Z=m},7762:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(181);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}}}]);
//# sourceMappingURL=705.840c29ff.chunk.js.map