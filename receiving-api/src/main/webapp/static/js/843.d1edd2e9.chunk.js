"use strict";(self.webpackChunkreceiving_web=self.webpackChunkreceiving_web||[]).push([[843],{9850:function(e,n,t){t.d(n,{T:function(){return I}});var i=t(1413),o=t(2791),r=t(9823),a=t(4554),l=t(6151),c=t(5289),s=t(7123),d=t(9157),u=t(1691),v=t(4721),m=t(3400),p=t(890),f=t(785),g=t(184),I=(0,o.memo)((function(e){var n=e.open,t=e.getHeader,o=e.getContent,I=e.handleClose,y=e.handleConfirm;return(0,g.jsx)("div",{children:(0,g.jsxs)(c.Z,{open:n,onClose:I,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{sx:f.W.paper},children:[(0,g.jsxs)(a.Z,{sx:f.W.titleContainer,children:[(0,g.jsx)(p.Z,{gutterBottom:!0,variant:"h4",component:"div",children:(0,g.jsx)("b",{children:t})}),(0,g.jsx)(m.Z,{"aria-label":"close",onClick:I,children:(0,g.jsx)(r.Z,{fontSize:"large"})})]}),(0,g.jsx)(d.Z,{sx:{mb:20},children:(0,g.jsx)(u.Z,{id:"alert-dialog-description",sx:{fontSize:"25px",color:"black"},children:o})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(s.Z,{sx:{m:2},children:[(0,g.jsx)(l.Z,{variant:"outlined",size:"large",onClick:I,sx:(0,i.Z)((0,i.Z)({},f.W.button),{},{color:"primary.dark",borderColor:"primary.dark"}),children:"Cancel"},"cancel"),(0,g.jsx)(l.Z,{variant:"contained",size:"large",sx:f.W.button,onClick:y,children:"Confirm"},"receive")]})]})})}))},3886:function(e,n,t){t.d(n,{b:function(){return v}});var i=t(2791),o=t(6871),r=t(7394),a=t(4554),l=t(3400),c=t(890),s=t(8930),d=t(1878),u=t(184),v=function(e){var n=e.title,t=e.icon,v=e.chip,m=void 0===v?null:v,p=e.enableBack,f=void 0!==p&&p,g=e.onClickBack,I=e.actions,y=void 0===I?[]:I,b=(0,o.s0)(),h=(0,i.useCallback)((function(){g?g():b(-1)}),[g,b]);return(0,u.jsxs)(s.c,{children:[(0,u.jsxs)(a.Z,{sx:d.W.wrapper,children:[f&&(0,u.jsx)(l.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:h,children:(0,u.jsx)(r.Z,{fontSize:"large"})}),t,(0,u.jsx)(c.Z,{variant:"h5",component:"div",sx:d.W.title,children:n}),m]}),(0,u.jsx)(a.Z,{children:y})]})}},9923:function(e,n,t){t.d(n,{q:function(){return u}});var i=t(3433),o=t(1413),r=t(2791),a=t(3899),l=t(5675),c=t(8717),s=t(184),d=function(e){var n=e.title,t=e.inputLabel,i=e.onConfirm,d=(0,r.useContext)(a.f),u=d.keyboard,v=d.setKeyboard,m=(0,r.useCallback)((function(e){l.t7.action("Global-Keyboard: confirm button clicked with ".concat(e)),i(e),v((0,o.Z)((0,o.Z)({},u),{},{open:!1}))}),[i,u,v]);return(0,s.jsx)(c.M,{inputLabel:t,title:n,onConfirm:m})},u=function(e){var n=e.title,t=void 0===n?"":n,l=e.inputLabel,c=void 0===l?"":l,u=e.onClickGlobalKeyboardConfirm,v=e.disabled,m=void 0!==v&&v,p=e.open,f=void 0!==p&&p,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],I=(0,r.useContext)(a.f),y=I.keyboard,b=I.setKeyboard,h=(0,r.useCallback)((function(e){u&&u(e)}),[u]);(0,r.useEffect)((function(){b((0,o.Z)((0,o.Z)({},y),{},{disabled:m,open:f,children:(0,s.jsx)(d,{title:t,inputLabel:c,onConfirm:h})}))}),(0,i.Z)(g))}},2192:function(e,n,t){t.d(n,{p:function(){return F}});var i=t(4942),o=t(2791),r=t(9772),a=t(4554),l=t(7462),c=t(3366),s=t(8182),d=t(2039),u=t(7630),v=t(1046),m=t(703),p=t(9818),f=t(2152);function g(e){return(0,p.Z)("MuiCard",e)}(0,f.Z)("MuiCard",["root"]);var I=t(184),y=["className","raised"],b=(0,u.ZP)(m.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),h=o.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiCard"}),i=t.className,o=t.raised,r=void 0!==o&&o,a=(0,c.Z)(t,y),u=(0,l.Z)({},t,{raised:r}),m=function(e){var n=e.classes;return(0,d.Z)({root:["root"]},g,n)}(u);return(0,I.jsx)(b,(0,l.Z)({className:(0,s.Z)(m.root,i),elevation:r?8:void 0,ref:n,ownerState:u},a))}));function x(e){return(0,p.Z)("MuiCardContent",e)}(0,f.Z)("MuiCardContent",["root"]);var C=["className","component"],Z=(0,u.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),j=o.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiCardContent"}),i=t.className,o=t.component,r=void 0===o?"div":o,a=(0,c.Z)(t,C),u=(0,l.Z)({},t,{component:r}),m=function(e){var n=e.classes;return(0,d.Z)({root:["root"]},x,n)}(u);return(0,I.jsx)(Z,(0,l.Z)({as:r,className:(0,s.Z)(m.root,i),ownerState:u,ref:n},a))}));function k(e){return(0,p.Z)("MuiCardMedia",e)}(0,f.Z)("MuiCardMedia",["root","media","img"]);var Q=["children","className","component","image","src","style"],U=(0,u.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState,i=t.isMediaComponent,o=t.isImageComponent;return[n.root,i&&n.media,o&&n.img]}})((function(e){var n=e.ownerState;return(0,l.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),w=["video","audio","picture","iframe","img"],M=["picture","img"],D=o.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiCardMedia"}),i=t.children,o=t.className,r=t.component,a=void 0===r?"div":r,u=t.image,m=t.src,p=t.style,f=(0,c.Z)(t,Q),g=-1!==w.indexOf(a),y=!g&&u?(0,l.Z)({backgroundImage:'url("'.concat(u,'")')},p):p,b=(0,l.Z)({},t,{component:a,isMediaComponent:g,isImageComponent:-1!==M.indexOf(a)}),h=function(e){var n=e.classes,t={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,d.Z)(t,k,n)}(b);return(0,I.jsx)(U,(0,l.Z)({className:(0,s.Z)(h.root,o),as:a,role:!g&&u?"img":void 0,ref:n,style:y,ownerState:b,src:g?u||m:void 0},f,{children:i}))})),P=t(8096),L=t(3466),N=t(4925),R=t(8029),S=t(7391),q=t(890),A={itemDescription:{display:"-webkit-box",WebkitLineClamp:"4",WebkitBoxOrient:"vertical",textOverflow:"ellipsis",overflow:"hidden"}},E=(0,u.ZP)(a.Z)((function(e){var n=e.theme;return(0,i.Z)({display:"flex",margin:n.spacing(2)},n.breakpoints.down("sm"),{flexDirection:"column-reverse",alignItems:"center"})})),F=function(e){var n=e.imageUrl,t=e.itemNbr,i=e.itemUPC,a=e.itemDescription,l=e.value,c=e.setValue,s=e.inputLabel,d=e.isUpdate,u=e.remainingQty,v=e.isReReceivingContainer,m=(0,o.useCallback)((function(e){var n=e.target.value;/^\d*$/.test(n)&&c(n)}),[c]),p=function(){return(u||0)>Number(l)};return(0,I.jsxs)(E,{children:[(0,I.jsxs)(h,{sx:{width:["100%","30ch"]},children:[(0,I.jsx)(D,{component:"img",image:n,alt:"".concat(a),sx:{height:[240]}}),(0,I.jsxs)(j,{children:[(0,I.jsx)(q.Z,{gutterBottom:!0,variant:"h6",component:"div",children:"UPC: ".concat(i)}),(0,I.jsx)(q.Z,{gutterBottom:!0,variant:"h6",component:"div",children:"Item: ".concat(t)}),(0,I.jsx)(q.Z,{variant:"body2",color:"text.secondary",sx:A.itemDescription,children:a})]})]}),d&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(P.Z,{sx:{m:4,mt:0,width:["100%","15ch"]},variant:"outlined",children:[(0,I.jsx)("p",{children:(0,I.jsx)("b",{children:"Remaining Qty"})}),(0,I.jsx)("p",{children:(0,I.jsx)("b",{children:u})})]}),(0,I.jsxs)(P.Z,{sx:{m:2,mt:0,width:["100%","40ch"]},variant:"outlined",children:[(0,I.jsx)("p",{children:(0,I.jsx)("b",{children:s})}),(0,I.jsx)(S.Z,{id:s,disabled:1==v,error:!p()||1==v,helperText:v?"Quantity Correction cannot be done for 2-Tier Re-Receiving Container":p()?"":(u||0)!==Number(l)?"Enter quantity less than ".concat(u):"The quantity entered will result in no change, enter a quantity less than  ".concat(u," to adjust the label"),type:"number",autoComplete:"off",value:l,onChange:m})]})]}),!d&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.Z,{sx:{m:2,mt:0,width:["100%","40ch"]},variant:"outlined",children:[(0,I.jsx)(R.Z,{id:s,type:"number",autoComplete:"off",value:l,onChange:m,endAdornment:(0,I.jsx)(L.Z,{position:"end",children:(0,I.jsx)(r.Z,{})}),label:s}),(0,I.jsx)(N.Z,{children:s})]})})]})}},9843:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var i,o=t(1413),r=t(5861),a=t(9439),l=t(7757),c=t.n(l),s=t(7408),d=t(2791),u=t(6871),v=t(6151),m=t(1692),p=t(6214),f=t(7912),g=t(5675),I=t(3903);!function(e){e.EACHES="EA",e.VNPK="ZA",e.WHPK="PH"}(i||(i={}));var y=function(e,n,t,o){var r=e;switch(n){case i.VNPK:r=e*t;break;case i.WHPK:r=e*o}return r},b=t(5178),h=t(9654),x=t(7895),C=t(8480),Z=t(9850),j=t(3886),k=t(9923),Q=t(2192),U={button:{borderRadius:"20px",fontWeight:"bold",m:.5}},w=t(184),M=x.d.getSessionStorage("myApps"),D=(null===M||void 0===M?void 0:M.dynamicConfig.enableReceivingLpn)||!1,P=function(e){return(0,I.i)(f.GH.postQtyCorrection(e),{description:"Update-Item-Quantity: receive items with corrected quantity for container ".concat(e.trackingId)})};function L(){var e,n,t,i,l,I,x,M,L,N,R,S,q,A=(0,C.j)(),E=(0,u.s0)(),F=(0,d.useContext)(m.w),W=F.alerts,O=F.setAlerts,z=(0,d.useContext)(p.z).globals,H=(0,d.useState)(""),B=(0,a.Z)(H,2),K=B[0],T=B[1],G=(0,d.useState)(!1),V=(0,a.Z)(G,2),Y=V[0],J=V[1],_=(0,d.useState)((0,w.jsx)(w.Fragment,{})),$=(0,a.Z)(_,2),X=$[0],ee=$[1],ne=(0,d.useState)((0,w.jsx)(w.Fragment,{})),te=(0,a.Z)(ne,2),ie=te[0],oe=te[1],re=(0,d.useCallback)((function(e){g.t7.info("Update-Item-Quantity: printjob success",e),O({success:"Labels were sent to printing"}),g.t7.action("Update-Item-Quantity: navigate to scan-cart page"),E("/")}),[O,E]),ae=(0,d.useCallback)((function(e){g.t7.error("Update-Item-Quantity: printjob error",e),console.error("Error during print request",e),O({error:"Error during print request"})}),[O]),le=(0,h.G)({onPrintRequestSuccess:re,onPrintRequestError:ae}),ce=(0,a.Z)(le,1)[0],se=(0,d.useCallback)((function(e){var n=e.data.container.inventoryStatus;switch(n){case"PICKED":var t=e.data.printJob;parseInt(K)?t?(g.t7.info("Update-Item-Quantity: printjob request",e.data.printJob),ce(e.data.printJob)):(g.t7.error("Update-Item-Quantity: printjob not found",{}),console.error("No print job found"),O({error:"No print job found"})):(g.t7.action("Update-Item-Quantity: navigate to scan-cart page"),E("/"),O({success:"Quantity Updated successfully"}));break;case"AVAILABLE":""===z.trackingId?(g.t7.action("Update-Item-Quantity: navigate to scan-cart page"),E("/"),O({success:"Quantity Updated successfully"})):(g.t7.action("Update-Item-Quantity: navigate to breakpack page"),O({loading:!0}),setTimeout((function(){return E(-1)}),f.GH.decantTimeout));break;default:g.t7.error("Update-Item-Quantity: inventoryStatus ".concat(n," not supported"),{}),console.error("Other types are not supported yet"),O({error:"Other inventoryStatus ".concat(n," not supported.")})}}),[O,ce,E,z.trackingId,K]),de=(0,d.useCallback)((function(e){var n,t,i;g.t7.error("Update-Item-Quantity: receive items request error",e),console.error("Error while receiving",null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data),O({error:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.errorMessage)||(null===e||void 0===e?void 0:e.message)||"Error while receiving"})}),[O]),ue=(0,s.useMutation)(P,{onSuccess:function(e){return se(e)},onError:function(e){return de(e)}}).mutate,ve=(0,d.useCallback)((function(){g.t7.action("Update-Item-Quantity: cancel button clicked"),E(-1)}),[E]),me=(0,d.useCallback)((0,r.Z)(c().mark((function e(){var n,t,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={trackingId:D?null!==A&&void 0!==A&&A.containerInfo.trackingId?null===A||void 0===A?void 0:A.containerInfo.trackingId:"":null!==A&&void 0!==A&&A.lpnInfo.trackingId?null===A||void 0===A?void 0:A.lpnInfo.trackingId:"",adjustQuantity:Number(K),adjustQuantityUOM:D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].quantityUOM?null===A||void 0===A?void 0:A.containerInfo.containerItems[0].quantityUOM:"":null!==A&&void 0!==A&&A.lpnInfo.containerInventoryList[0].netItemWeightUOM?null===A||void 0===A?void 0:A.lpnInfo.containerInventoryList[0].netItemWeightUOM:"",inventoryQuantity:D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].inventoryQuantity?y(null===A||void 0===A?void 0:A.containerInfo.containerItems[0].inventoryQuantity,null!==(n=A.containerInfo.containerItems[0].inventoryQuantityUOM)&&void 0!==n?n:"",null!==(t=A.containerInfo.containerItems[0].vnpkQty)&&void 0!==t?t:0,null!==(i=A.containerInfo.containerItems[0].whpkQty)&&void 0!==i?i:0):0:null!==A&&void 0!==A&&A.lpnInfo.containerInventoryList[0].totalQuantity?null===A||void 0===A?void 0:A.lpnInfo.containerInventoryList[0].totalQuantity:0},"PICKED"!==(D?null!==A&&void 0!==A&&A.containerInfo.inventoryStatus?null===A||void 0===A?void 0:A.containerInfo.inventoryStatus:null:null!==A&&void 0!==A&&A.lpnInfo.containerStatus?null===A||void 0===A?void 0:A.lpnInfo.containerStatus:null)||0===parseInt(K)){e.next=9;break}return e.next=5,b.T.isPrinterSelected();case 5:e.sent?(O({loading:!0}),ue(o)):(O({error:"No printer selected, please select a printer to receive"}),g.t7.error("Update-Item-Quantity: No printer selected, please select a printer to receive",{}),console.error("No printer selected, please select a printer to receive")),e.next=11;break;case 9:O({loading:!0}),ue(o);case 11:case"end":return e.stop()}}),e)}))),[K,A,O,ue]),pe=(0,d.useCallback)((function(){var e,n,t,i=parseInt(K),o=(null===A||void 0===A||null===(e=A.containerInfo)||void 0===e?void 0:e.containerItems[0].sellerTrustLevel)||"",r=A&&A.containerInfo?parseInt(null===A||void 0===A||null===(n=A.containerInfo)||void 0===n?void 0:n.containerItems[0].containerItemMiscInfo.expectedPackQuantity):0,a=(null===A||void 0===A||null===(t=A.containerInfo)||void 0===t?void 0:t.containerItems[0].quantity)||0;0===i?(z.trackingId?"HIGH"===o&&r===a?(ee((0,w.jsx)(w.Fragment,{children:"Alert!"})),oe((0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"You are trying to update the quantity as Zero for trusted seller case. Please Reconfirm."})}))):(ee((0,w.jsx)(w.Fragment,{children:"Alert!"})),oe((0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"You are trying to update the quantity as Zero. Please Reconfirm."})}))):(ee((0,w.jsx)(w.Fragment,{children:"Back out label Alert!"})),oe((0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"You have entered zero. Entering zero will back-out the label and action cannot be reversed. Re-confirm?"})}))),J(!0)):"HIGH"===o&&r===a?(ee((0,w.jsx)(w.Fragment,{children:"Warning Alert!"})),oe((0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"You are trying to edit trusted seller case quantity. Please re-confirm or cancel to return."})})),J(!0)):me()}),[me,J,K,A,z.trackingId]),fe=(0,d.useCallback)((function(){0===parseInt(K)?g.t7.info("Update-Item-Quantity: Approved for back out",{}):g.t7.info("Update-Item-Quantity: Approved for trusted seller edit",{}),J(!1),me()}),[me,J,K]),ge=(0,d.useMemo)((function(){return{disabled:!0}}),[]);(0,k.q)(ge);var Ie=D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].description?null===A||void 0===A?void 0:A.containerInfo.containerItems[0].description:"":null!==A&&void 0!==A&&null!==(e=A.gdmDeliveryDocuments[0])&&void 0!==e&&e.deliveryDocumentLines[0].itemDescription1?null===A||void 0===A||null===(n=A.gdmDeliveryDocuments[0])||void 0===n?void 0:n.deliveryDocumentLines[0].itemDescription1:"",ye=D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].itemNumber?null===A||void 0===A?void 0:A.containerInfo.containerItems[0].itemNumber:0:null!==A&&void 0!==A&&null!==(t=A.gdmDeliveryDocuments[0])&&void 0!==t&&t.deliveryDocumentLines[0].itemNbr?null===A||void 0===A||null===(i=A.gdmDeliveryDocuments[0])||void 0===i?void 0:i.deliveryDocumentLines[0].itemNbr:0,be=D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].itemUPC?null===A||void 0===A?void 0:A.containerInfo.containerItems[0].itemUPC:"":null!==A&&void 0!==A&&null!==(l=A.gdmDeliveryDocuments[0])&&void 0!==l&&l.deliveryDocumentLines[0].itemUPC?null===A||void 0===A||null===(I=A.gdmDeliveryDocuments[0])||void 0===I?void 0:I.deliveryDocumentLines[0].itemUPC:"",he=D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].containerItemMiscInfo.imageUrl?null===A||void 0===A?void 0:A.containerInfo.containerItems[0].containerItemMiscInfo.imageUrl:"":null!==A&&void 0!==A&&null!==(x=A.gdmDeliveryDocuments[0])&&void 0!==x&&x.deliveryDocumentLines[0].additionalInfo.imageUrl?null===A||void 0===A||null===(M=A.gdmDeliveryDocuments[0])||void 0===M?void 0:M.deliveryDocumentLines[0].additionalInfo.imageUrl:"",xe=D?null!==A&&void 0!==A&&A.containerInfo.containerItems[0].inventoryQuantity?y(null===A||void 0===A?void 0:A.containerInfo.containerItems[0].inventoryQuantity,null!==(L=A.containerInfo.containerItems[0].inventoryQuantityUOM)&&void 0!==L?L:"",null!==(N=A.containerInfo.containerItems[0].vnpkQty)&&void 0!==N?N:0,null!==(R=A.containerInfo.containerItems[0].whpkQty)&&void 0!==R?R:0):0:null!==A&&void 0!==A&&A.lpnInfo.containerInventoryList[0].totalQuantity?null===A||void 0===A?void 0:A.lpnInfo.containerInventoryList[0].totalQuantity:0,Ce=!!D&&(null===A||void 0===A||null===(S=A.containerInfo)||void 0===S||null===(q=S.containerMiscInfo)||void 0===q?void 0:q.isReReceivingContainer);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j.b,{title:"LPN: ".concat(null===A||void 0===A?void 0:A.containerId," Count and enter qty"),enableBack:!0,actions:[(0,w.jsx)(v.Z,{variant:"outlined",size:"large",onClick:ve,sx:(0,o.Z)((0,o.Z)({},U.button),{},{color:"primary.dark",borderColor:"primary.dark"}),children:"Cancel"},"cancel"),(0,w.jsx)(v.Z,{variant:"contained",size:"large",sx:U.button,disabled:W.loading||!K||parseInt(K)>=xe||1==Ce,onClick:pe,children:"Modify"},"receive")]}),(0,w.jsx)(Q.p,{imageUrl:he,itemNbr:ye,itemUPC:be,itemDescription:Ie,value:K,setValue:T,inputLabel:"New Quantity",isUpdate:!0,remainingQty:xe,isReReceivingContainer:Ce}),Y&&(0,w.jsx)(Z.T,{getHeader:X,getContent:ie,handleConfirm:fe,handleClose:function(){J(!1)},open:Y})]})}}}]);
//# sourceMappingURL=843.d1edd2e9.chunk.js.map